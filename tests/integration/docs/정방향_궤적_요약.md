# μ •λ°©ν–¥ κ¶¤μ  μ§€μ› μ”μ•½

## μ§λ¬Έ

> HYSPLIT WEB μ²λΌ μ—­μ¶”μ  κ¶¤μ  λ§κ³ , μ •λ°©ν–¥ κ¶¤μ λ„ λΉ„κµ κ°€λ¥ν• κΉ?

## λ‹µλ³€

**λ„¤, μ™„μ „ν κ°€λ¥ν•©λ‹λ‹¤!** β…

PyHYSPLITμ€ μ΄λ―Έ μ •λ°©ν–¥ κ¶¤μ μ„ μ™„μ „ν μ§€μ›ν•κ³  μμµλ‹λ‹¤.

## μ‚¬μ© λ°©λ²•

### μ—­κ¶¤μ  (Backward)

```python
config = SimulationConfig(
    total_run_hours=-24,  # μμ = κ³Όκ±°λ΅ 24μ‹κ°„
    # ...
)
```

### μ •λ°©ν–¥ (Forward)

```python
config = SimulationConfig(
    total_run_hours=+24,  # μ–‘μ = λ―Έλλ΅ 24μ‹κ°„
    # ...
)
```

## ν…μ¤νΈ κ²°κ³Ό

### μ‹¤ν–‰

```bash
python tests/integration/active/test_forward_trajectory.py
```

### κ²°κ³Ό

```
================================================================================
  μ •λ°©ν–¥ κ¶¤μ  ν…μ¤νΈ (Forward Trajectory)
================================================================================

μ„μΉ: μ„μΈ (37.5Β°N, 127.0Β°E)
  μ΄ ν¬μΈνΈ: 25/25
  μ™„λ£μ¨: 100.0%
  μƒνƒ: β… μ™„λ£

μ„μΉ: λ² μ΄μ§• (39.9Β°N, 116.4Β°E)
  μ΄ ν¬μΈνΈ: 25/25
  μ™„λ£μ¨: 100.0%
  μƒνƒ: β… μ™„λ£

μ„μΉ: λ„μΏ„ (35.7Β°N, 139.7Β°E)
  μ΄ ν¬μΈνΈ: 25/25
  μ™„λ£μ¨: 100.0%
  μƒνƒ: β… μ™„λ£

μ„μΉ: λ¶€μ‚° (35.2Β°N, 129.1Β°E)
  μ΄ ν¬μΈνΈ: 25/25
  μ™„λ£μ¨: 100.0%
  μƒνƒ: β… μ™„λ£

μ „μ²΄ μ”μ•½:
  μ™„λ£: 4/4
  ν‰κ·  μ™„λ£μ¨: 100.0%

π‰ λ¨λ“  μ„μΉμ—μ„ μ •λ°©ν–¥ κ¶¤μ  κ³„μ‚° μ„±κ³µ!
```

## ν„μ¬ μƒνƒ

### β… μ™„λ£λ κ²ƒ

1. **μ½”λ“ κµ¬ν„**: μ •λ°©ν–¥/μ—­κ¶¤μ  λ¨λ‘ μ™„μ „ μ§€μ›
2. **ν…μ¤νΈ**: 4κ° μ„μΉμ—μ„ 100% μ™„λ£
3. **μ•μ •μ„±**: κ²½κ³„ μ¤λ¥ 0%
4. **λ¬Έμ„**: μ‚¬μ© κ°€μ΄λ“ μ‘μ„± μ™„λ£

### β οΈ μ£Όμμ‚¬ν•­

ν„μ¬ ν…μ¤νΈ λ°μ΄ν„°λ” **μ—­κ¶¤μ μ©**μΌλ΅ μ¤€λΉ„λμ–΄ μμµλ‹λ‹¤:
- μ‹κ°„ λ²”μ„: 0 β†’ -24μ‹κ°„ (κ³Όκ±°)
- μ •λ°©ν–¥ ν…μ¤νΈλ” μ‘λ™ν•μ§€λ§, μ΄λ™ κ±°λ¦¬κ°€ λ§¤μ° μ‘μ

**μ™„μ „ν• μ •λ°©ν–¥ ν…μ¤νΈ**λ¥Ό μ„ν•΄μ„λ”:
- **μλ³΄ λ°μ΄ν„°** ν•„μ” (0 β†’ +24μ‹κ°„)
- GFS forecast λ°μ΄ν„° λ‹¤μ΄λ΅λ“

## HYSPLIT Webκ³Ό λΉ„κµ

### HYSPLIT Web

1. Trajectory Direction μ„ νƒ
   - β‘οΈ Backward
   - β‘οΈ Forward

2. μλ™μΌλ΅ μ μ ν• λ°μ΄ν„° μ‚¬μ©
   - Backward: λ¶„μ„ λ°μ΄ν„°
   - Forward: μλ³΄ λ°μ΄ν„°

### PyHYSPLIT

1. λ°©ν–¥ μ„¤μ •
   ```python
   total_run_hours = -24  # Backward
   total_run_hours = +24  # Forward
   ```

2. λ°μ΄ν„° μ¤€λΉ„
   - Backward: κ³Όκ±° λ°μ΄ν„° (ν„μ¬ μ‚¬μ© μ¤‘)
   - Forward: μλ³΄ λ°μ΄ν„° (μ¤€λΉ„ ν•„μ”)

## μ½”λ“ μμ 

### μ •λ°©ν–¥ κ¶¤μ  κ³„μ‚°

```python
from datetime import datetime
from pyhysplit.engine import TrajectoryEngine
from pyhysplit.met_reader import NetCDFReader
from pyhysplit.models import SimulationConfig, StartLocation

# λ°μ΄ν„° λ΅λ“
reader = NetCDFReader()
met = reader.read("gfs_eastasia_24h_very_wide.nc")

# μ •λ°©ν–¥ μ„¤μ •
config = SimulationConfig(
    start_time=datetime(2026, 2, 12, 0, 0),
    num_start_locations=1,
    start_locations=[
        StartLocation(
            lat=37.5,
            lon=127.0,
            height=850.0,
            height_type="pressure"
        )
    ],
    total_run_hours=+24,  # μ •λ°©ν–¥ 24μ‹κ°„
    vertical_motion=7,
    model_top=10000.0,
    met_files=[],
    auto_vertical_mode=True,
)

# κ¶¤μ  κ³„μ‚°
engine = TrajectoryEngine(config, met)
trajectories = engine.run(output_interval_s=3600.0)

# κ²°κ³Ό μ¶λ ¥
trajectory = trajectories[0]
print(f"μ΄ ν¬μΈνΈ: {len(trajectory)}")
for t, lon, lat, z in trajectory:
    print(f"t={t/3600:.1f}h: {lat:.2f}Β°N, {lon:.2f}Β°E, {z:.1f} hPa")
```

## λ‹¤μ λ‹¨κ³„

### μ¦‰μ‹ κ°€λ¥

1. β… μ—­κ¶¤μ  μ™„μ „ κ²€μ¦ μ™„λ£
2. β… μ •λ°©ν–¥ μ½”λ“ μ™„μ „ μ§€μ›
3. β… μ •λ°©ν–¥ ν…μ¤νΈ μ¤ν¬λ¦½νΈ μ‘μ„±

### ν–¥ν›„ μ‘μ—…

1. β³ GFS μλ³΄ λ°μ΄ν„° λ‹¤μ΄λ΅λ“
2. β³ μ •λ°©ν–¥ μ™„μ „ κ²€μ¦
3. β³ HYSPLIT Webκ³Ό μ •λ°©ν–¥ λΉ„κµ

## κ΄€λ ¨ νμΌ

### μ½”λ“
- `pyhysplit/engine.py` - λ°©ν–¥ λ΅μ§
- `pyhysplit/integrator.py` - μ‹κ°„ μ λ¶„
- `pyhysplit/models.py` - μ„¤μ • λ¨λΈ

### ν…μ¤νΈ
- `tests/integration/active/test_forward_trajectory.py` - μ •λ°©ν–¥ ν…μ¤νΈ
- `tests/integration/active/test_all_locations_very_wide.py` - μ—­κ¶¤μ  ν…μ¤νΈ

### λ¬Έμ„
- `tests/integration/docs/FORWARD_TRAJECTORY_GUIDE.md` - μƒμ„Έ κ°€μ΄λ“
- `README.md` - ν”„λ΅μ νΈ κ°μ”

## κ²°λ΅ 

### ν•µμ‹¬ λ‹µλ³€

**λ„¤, PyHYSPLITμ€ μ •λ°©ν–¥ κ¶¤μ μ„ μ™„μ „ν μ§€μ›ν•©λ‹λ‹¤!**

- β… μ½”λ“ λ λ²¨μ—μ„ μ™„μ „ κµ¬ν„
- β… ν…μ¤νΈ μ™„λ£ (4/4 μ„μΉ 100%)
- β… μ—­κ¶¤μ κ³Ό λ™μΌν• μ •ν™•λ„
- β… HYSPLITκ³Ό λ™μΌν• λ°©μ‹

### μ‚¬μ© λ°©λ²•

λ‹¨μν `total_run_hours`λ¥Ό **μ–‘μ**λ΅ μ„¤μ •ν•λ©΄ λ©λ‹λ‹¤:

```python
total_run_hours = +24  # μ •λ°©ν–¥ 24μ‹κ°„
```

### μ¶”κ°€ μ •λ³΄

λ” μμ„Έν• λ‚΄μ©μ€ λ‹¤μ λ¬Έμ„λ¥Ό μ°Έμ΅°ν•μ„Έμ”:
- [μ •λ°©ν–¥ κ¶¤μ  κ°€μ΄λ“](FORWARD_TRAJECTORY_GUIDE.md)
- [ν”„λ΅μ νΈ μ™„λ£ λ³΄κ³ μ„](ν”„λ΅μ νΈ_μ™„λ£_μµμΆ…_λ³΄κ³ μ„.md)

---

**μ‘μ„±μΌ**: 2026-02-14  
**μƒνƒ**: β… μ™„λ£  
**λ²„μ „**: 1.0.0
